2021-09-28 00:10:59.237 | DEBUG    | cfsiv_utils.time_strings:extract_date:168 - No date found in:  End Google Analytics 
2021-09-28 00:10:59.237 | DEBUG    | __main__:extract_date:113 - 2021-09-28 04:10:48 Date found in ['\n****************************************************************************\n* SERVER NAME: water.weather.gov\n* HOST NAME  : www9.mo.nids.noaa.gov\n* Date       : 2021/09/28 04:10:48 UTC\n****************************************************************************\n', ' top banner ', ' END RIVER INFO CONTAINER ', ' begin our footer basic for all pages  ', 'header', ' display our callobaritve agencies ', 'content', ' end our inner display table ', ' Start Google Analytics ', ' End Google Analytics ']
2021-09-28 00:10:59.237 | INFO     | __main__:pull_details:137 - Scrape date: 2021-09-28 04:10:48
2021-09-28 00:11:00.239 | INFO     | __main__:Main:235 - 2021-09-28_04:10:56UTC
2021-09-28 00:11:00.239 | DEBUG    | __main__:Main:216 - Scraping point: https://water.weather.gov//ahps2/river.php?wfo=lmk&wfoid=18699&riverid=204624&pt[]=143843&allpoints=150960&data[]=obs&data[]=xml
2021-09-28 00:11:21.931 | ERROR    | cfsiv_utils.WebScraping:retrieve_cleaned_html:81 - An error has been caught in function 'retrieve_cleaned_html', process 'MainProcess' (11648), thread 'MainThread' (13752):
Traceback (most recent call last):

  File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\urllib3\connectionpool.py", line 699, in urlopen
    httplib_response = self._make_request(
                       │    └ <function HTTPConnectionPool._make_request at 0x0827CFA0>
                       └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x014129A0>

  File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\urllib3\connectionpool.py", line 382, in _make_request
    self._validate_conn(conn)
    │    │              └ <urllib3.connection.HTTPSConnection object at 0x01412B68>
    │    └ <function HTTPSConnectionPool._validate_conn at 0x0827E268>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x014129A0>

  File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\urllib3\connectionpool.py", line 1010, in _validate_conn
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x08267730>
    └ <urllib3.connection.HTTPSConnection object at 0x01412B68>

  File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\urllib3\connection.py", line 411, in connect
    self.sock = ssl_wrap_socket(
    │    │      └ <function ssl_wrap_socket at 0x08263610>
    │    └ None
    └ <urllib3.connection.HTTPSConnection object at 0x01412B68>

  File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\urllib3\util\ssl_.py", line 428, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(
               └ <function _ssl_wrap_socket_impl at 0x082636E8>

  File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\urllib3\util\ssl_.py", line 472, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           │           │           │                     └ 'water.weather.gov'
           │           │           └ <socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>
           │           └ <function SSLContext.wrap_socket at 0x07F99A48>
           └ <ssl.SSLContext object at 0x01405778>

  File "C:\Users\Conrad\AppData\Local\Programs\Python\Python38-32\lib\ssl.py", line 500, in wrap_socket
    return self.sslsocket_class._create(
           │    │               └ <classmethod object at 0x07B08DA8>
           │    └ <class 'ssl.SSLSocket'>
           └ <ssl.SSLContext object at 0x01405778>

  File "C:\Users\Conrad\AppData\Local\Programs\Python\Python38-32\lib\ssl.py", line 1040, in _create
    self.do_handshake()
    │    └ <function SSLSocket.do_handshake at 0x080AD1D8>
    └ <ssl.SSLSocket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>

  File "C:\Users\Conrad\AppData\Local\Programs\Python\Python38-32\lib\ssl.py", line 1309, in do_handshake
    self._sslobj.do_handshake()
    │    └ None
    └ <ssl.SSLSocket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>

TimeoutError: [WinError 10060] A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\requests\adapters.py", line 439, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x0827E100>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x014129A0>

  File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\urllib3\connectionpool.py", line 755, in urlopen
    retries = retries.increment(
              │       └ <function Retry.increment at 0x082503D0>
              └ Retry(total=0, connect=None, read=False, redirect=None, status=None)

  File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\urllib3\util\retry.py", line 531, in increment
    raise six.reraise(type(error), error, _stacktrace)
          │   │            │       │      └ <traceback object at 0x01414408>
          │   │            │       └ ProtocolError('Connection aborted.', TimeoutError(10060, 'A connection attempt failed because the connected party did not pro...
          │   │            └ ProtocolError('Connection aborted.', TimeoutError(10060, 'A connection attempt failed because the connected party did not pro...
          │   └ <function reraise at 0x081DC418>
          └ <module 'urllib3.packages.six' from 'G:\\users\\conrad\\documents\\Python\\Sunset-Village-River-Bot\\venv\\lib\\site-packages...

  File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\urllib3\packages\six.py", line 734, in reraise
    raise value.with_traceback(tb)
          │                    └ None
          └ None

  File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\urllib3\connectionpool.py", line 699, in urlopen
    httplib_response = self._make_request(
                       │    └ <function HTTPConnectionPool._make_request at 0x0827CFA0>
                       └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x014129A0>

  File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\urllib3\connectionpool.py", line 382, in _make_request
    self._validate_conn(conn)
    │    │              └ <urllib3.connection.HTTPSConnection object at 0x01412B68>
    │    └ <function HTTPSConnectionPool._validate_conn at 0x0827E268>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x014129A0>

  File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\urllib3\connectionpool.py", line 1010, in _validate_conn
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x08267730>
    └ <urllib3.connection.HTTPSConnection object at 0x01412B68>

  File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\urllib3\connection.py", line 411, in connect
    self.sock = ssl_wrap_socket(
    │    │      └ <function ssl_wrap_socket at 0x08263610>
    │    └ None
    └ <urllib3.connection.HTTPSConnection object at 0x01412B68>

  File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\urllib3\util\ssl_.py", line 428, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(
               └ <function _ssl_wrap_socket_impl at 0x082636E8>

  File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\urllib3\util\ssl_.py", line 472, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           │           │           │                     └ 'water.weather.gov'
           │           │           └ <socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>
           │           └ <function SSLContext.wrap_socket at 0x07F99A48>
           └ <ssl.SSLContext object at 0x01405778>

  File "C:\Users\Conrad\AppData\Local\Programs\Python\Python38-32\lib\ssl.py", line 500, in wrap_socket
    return self.sslsocket_class._create(
           │    │               └ <classmethod object at 0x07B08DA8>
           │    └ <class 'ssl.SSLSocket'>
           └ <ssl.SSLContext object at 0x01405778>

  File "C:\Users\Conrad\AppData\Local\Programs\Python\Python38-32\lib\ssl.py", line 1040, in _create
    self.do_handshake()
    │    └ <function SSLSocket.do_handshake at 0x080AD1D8>
    └ <ssl.SSLSocket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>

  File "C:\Users\Conrad\AppData\Local\Programs\Python\Python38-32\lib\ssl.py", line 1309, in do_handshake
    self._sslobj.do_handshake()
    │    └ None
    └ <ssl.SSLSocket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>

urllib3.exceptions.ProtocolError: ('Connection aborted.', TimeoutError(10060, 'A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond', None, 10060, None))


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\cfsiv_utils\WebScraping.py", line 27, in simple_get
    with closing(get(url, stream=True)) as resp:
         │       │   └ 'https://water.weather.gov//ahps2/river.php?wfo=lmk&wfoid=18699&riverid=204624&pt[]=143843&allpoints=150960&data[]=obs&data[]...
         │       └ <function get at 0x0834AAD8>
         └ <class 'contextlib.closing'>

  File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\requests\api.py", line 76, in get
    return request('get', url, params=params, **kwargs)
           │              │           │         └ {'stream': True, 'allow_redirects': True}
           │              │           └ None
           │              └ 'https://water.weather.gov//ahps2/river.php?wfo=lmk&wfoid=18699&riverid=204624&pt[]=143843&allpoints=150960&data[]=obs&data[]...
           └ <function request at 0x08313B68>

  File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\requests\api.py", line 61, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': None, 'stream': True, 'allow_redirects': True}
           │       │              │           └ 'https://water.weather.gov//ahps2/river.php?wfo=lmk&wfoid=18699&riverid=204624&pt[]=143843&allpoints=150960&data[]=obs&data[]...
           │       │              └ 'get'
           │       └ <function Session.request at 0x0834A6A0>
           └ <requests.sessions.Session object at 0x01412238>

  File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\requests\sessions.py", line 542, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': None, 'allow_redirects': True, 'verify': True, 'proxies': OrderedDict(), 'stream': True, 'cert': None}
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x0834A8E0>
           └ <requests.sessions.Session object at 0x01412238>

  File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\requests\sessions.py", line 655, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': None, 'verify': True, 'proxies': OrderedDict(), 'stream': True, 'cert': None}
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x0834A388>
        └ <requests.adapters.HTTPAdapter object at 0x014126E8>

  File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\requests\adapters.py", line 498, in send
    raise ConnectionError(err, request=request)
          │                            └ <PreparedRequest [GET]>
          └ <class 'requests.exceptions.ConnectionError'>

requests.exceptions.ConnectionError: ('Connection aborted.', TimeoutError(10060, 'A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond', None, 10060, None))


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "g:/users/conrad/documents/Python/Sunset-Village-River-Bot/OHIO_RIVER_LEVEL_SCRAPING.py", line 367, in <module>
    Main()
    └ <function Main at 0x08367C88>

  File "g:/users/conrad/documents/Python/Sunset-Village-River-Bot/OHIO_RIVER_LEVEL_SCRAPING.py", line 218, in Main
    raw_data, guage_id, friendly_name, scrape_date = get_NWS_web_data(point, cache=True)
    │         │         │                            │                └ 'https://water.weather.gov//ahps2/river.php?wfo=lmk&wfoid=18699&riverid=204624&pt[]=143843&allpoints=150960&data[]=obs&data[]...
    │         │         │                            └ <function get_NWS_web_data at 0x08367778>
    │         │         └ 'Ohio River At Wellsburg (WELW2)'
    │         └ 'welw2'
    └ [<h4 style="text-align:center;">Observed and Forecast Stages</h4>, <div class="box_rectangle"><div class="data_name">Observed...

  File "g:/users/conrad/documents/Python/Sunset-Village-River-Bot/OHIO_RIVER_LEVEL_SCRAPING.py", line 151, in get_NWS_web_data
    clean_soup = ws.retrieve_cleaned_html(site, cache)
                 │  │                     │     └ True
                 │  │                     └ 'https://water.weather.gov//ahps2/river.php?wfo=lmk&wfoid=18699&riverid=204624&pt[]=143843&allpoints=150960&data[]=obs&data[]...
                 │  └ <function retrieve_cleaned_html at 0x083670B8>
                 └ <module 'cfsiv_utils.WebScraping' from 'G:\\users\\conrad\\documents\\Python\\Sunset-Village-River-Bot\\venv\\lib\\site-packa...

> File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\cfsiv_utils\WebScraping.py", line 81, in retrieve_cleaned_html
    raw_resp = simple_get(url)
               │          └ 'https://water.weather.gov//ahps2/river.php?wfo=lmk&wfoid=18699&riverid=204624&pt[]=143843&allpoints=150960&data[]=obs&data[]...
               └ <function simple_get at 0x083509B8>

  File "G:\users\conrad\documents\Python\Sunset-Village-River-Bot\venv\lib\site-packages\cfsiv_utils\WebScraping.py", line 35, in simple_get
    raise Warning(f'{str(e)}')

Warning: ('Connection aborted.', TimeoutError(10060, 'A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond', None, 10060, None))
2021-09-28 00:11:22.305 | ERROR    | __main__:get_NWS_web_data:152 - An error has been caught in function 'get_NWS_web_data', process 'MainProcess' (11648), thread 'MainThread' (13752):
Traceback (most recent call last):

  File "g:/users/conrad/documents/Python/Sunset-Village-River-Bot/OHIO_RIVER_LEVEL_SCRAPING.py", line 367, in <module>
    Main()
    └ <function Main at 0x08367C88>

  File "g:/users/conrad/documents/Python/Sunset-Village-River-Bot/OHIO_RIVER_LEVEL_SCRAPING.py", line 218, in Main
    raw_data, guage_id, friendly_name, scrape_date = get_NWS_web_data(point, cache=True)
    │         │         │                            │                └ 'https://water.weather.gov//ahps2/river.php?wfo=lmk&wfoid=18699&riverid=204624&pt[]=143843&allpoints=150960&data[]=obs&data[]...
    │         │         │                            └ <function get_NWS_web_data at 0x08367778>
    │         │         └ 'Ohio River At Wellsburg (WELW2)'
    │         └ 'welw2'
    └ [<h4 style="text-align:center;">Observed and Forecast Stages</h4>, <div class="box_rectangle"><div class="data_name">Observed...

> File "g:/users/conrad/documents/Python/Sunset-Village-River-Bot/OHIO_RIVER_LEVEL_SCRAPING.py", line 152, in get_NWS_web_data
    return pull_details(clean_soup)
           │            └ None
           └ <function pull_details at 0x083675C8>

  File "g:/users/conrad/documents/Python/Sunset-Village-River-Bot/OHIO_RIVER_LEVEL_SCRAPING.py", line 128, in pull_details
    guage_id = soup.h1["id"]
               └ None

AttributeError: 'NoneType' object has no attribute 'h1'
2021-09-28 00:11:22.325 | ERROR    | __main__:<module>:367 - An error has been caught in function '<module>', process 'MainProcess' (11648), thread 'MainThread' (13752):
Traceback (most recent call last):

> File "g:/users/conrad/documents/Python/Sunset-Village-River-Bot/OHIO_RIVER_LEVEL_SCRAPING.py", line 367, in <module>
    Main()
    └ <function Main at 0x08367C88>

  File "g:/users/conrad/documents/Python/Sunset-Village-River-Bot/OHIO_RIVER_LEVEL_SCRAPING.py", line 218, in Main
    raw_data, guage_id, friendly_name, scrape_date = get_NWS_web_data(point, cache=True)
    │         │         │                            │                └ 'https://water.weather.gov//ahps2/river.php?wfo=lmk&wfoid=18699&riverid=204624&pt[]=143843&allpoints=150960&data[]=obs&data[]...
    │         │         │                            └ <function get_NWS_web_data at 0x08367778>
    │         │         └ 'Ohio River At Wellsburg (WELW2)'
    │         └ 'welw2'
    └ [<h4 style="text-align:center;">Observed and Forecast Stages</h4>, <div class="box_rectangle"><div class="data_name">Observed...

TypeError: cannot unpack non-iterable NoneType object